import { Libraries } from "@/components/docs/Libraries";
import Image from "next/image";
import SetupChecklist from "./env-id.webp";
import WidgetNotConnected from "./widget-not-connected.webp";
import WidgetConnected from "./widget-connected.webp";

export const metadata = {
  title: "Framework Overview",
  description: "Explore all the possible ways you can integrate Formbricks into your application.",
};

# Framework Overview

One can integrate Formbricks into their app using multipe options! Checkout the options below that we provide! If you are looking
for something else, please [join our Discord!](https://formbricks.com/discord) and we would be glad to help. {{ className: 'lead' }}

<Libraries />

## Prerequisites

Before getting started, make sure you have:

1. A web application in your desired framework set up and running.
2. A Formbricks account with access to your environment ID and API host. You can find these in the **Setup Checklist** in the Settings:

<Image
  src={SetupChecklist}
  alt="Step 2 - Setup Checklist"
  quality="100"
  className="rounded-lg max-w-full sm:max-w-3xl"
/>

## Formbricks x HTML

<Row>
  <Col>
    All you need to do is copy a `<script>` tag to your HTML head, and thatâ€™s about it!

    ### Required Customizations to be Made

    <Properties>
      <Property name="environment-id" type="string">
        Formbricks Environment ID.<br/>
        _Get this from the Setup Checklist inside the Settings page of Formbricks dashboard_
      </Property>
    </Properties>
    <Properties>
      <Property name="api-host" type="string">
        URL of the hosted Formbricks instance.<br/>
        _If you're using the cloud app, please use `"https://app.formbricks.com`"_
      </Property>
    </Properties>

  </Col>
  <Col sticky>
    <CodeGroup title="HTML">
    ```html {{ title: 'HTML' }}
    <script type="text/javascript">
    !function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="./dist/index.umd.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e),setTimeout(function(){window.formbricks.init("<environment-id>","<api-host>")},500)}();
    </script>
    ```
    </CodeGroup>
  </Col>
</Row>

## Formbricks x ReactJS

<Row>
  <Col>

    ### Required Customizations to be Made

    <Properties>
      <Property name="environment-id" type="string">
        Formbricks Environment ID.<br/>
        _Get this from the Setup Checklist inside the Settings page of Formbricks dashboard_
      </Property>
    </Properties>
    <Properties>
      <Property name="api-host" type="string">
        URL of the hosted Formbricks instance.<br/>
        _If you're using the cloud app, please use `"https://app.formbricks.com`"_
      </Property>
    </Properties>

    For detailed setup, please visit our [VueJs Setup Guide](/docs/getting-started/vuejs) page.

  </Col>
  <Col sticky>
    <CodeGroup title="Install Formbricks JS library">
    ```shell {{ title: 'JS lib from npm' }}
    npm install @formbricks/js
    ```
    </CodeGroup>
    <CodeGroup title="Initialise Formbricks in your App">
    ```js {{ title: 'ReactJs' }}
    // other imports
    import formbricks from "@formbricks/js";

    if (typeof window !== "undefined") {
      formbricks.init({
        environmentId: "<environment-id>",
        apiHost: "<api-host>",
        debug: true, // remove when in production
      });
    }

    function App() {
      // your own app
    }

    export default App;
    ```
    </CodeGroup>

  </Col>
</Row>

## Formbricks x NextJS

<Row>
  <Col>

    This is a quick setup for the App directory structure of Nextjs, if you have the Pages directory,
    refer to this [NextJs Pages Directory Setup Guide](/docs/getting-started/nextjs-pages).

    ### Required Customizations to be Made

    <Properties>
      <Property name="environment-id" type="string">
        Formbricks Environment ID.<br/>
        _Get this from the Setup Checklist inside the Settings page of Formbricks dashboard_
      </Property>
    </Properties>
    <Properties>
      <Property name="api-host" type="string">
        URL of the hosted Formbricks instance.<br/>
        _If you're using the cloud app, please use `"https://app.formbricks.com`"_
      </Property>
    </Properties>

    ### Optional Customizations to be Made

    <Properties>
      <Property name="debug" type="boolean">
        Whether you want to see debug messages from Formbricks on your client-side console.
      </Property>
    </Properties>

    For detailed setup, please visit our [NextJs App Directory Setup Guide](/docs/getting-started/nextjs-app).

  </Col>
  <Col sticky>
    <CodeGroup title="Install Formbricks JS library">
    ```shell {{ title: 'npm' }}
    npm install --save @formbricks/js
    ```
    ```shell {{ title: 'pnpm' }}
    pnpm add @formbricks/js
    ```
    ```shell {{ title: 'yarn' }}
    yarn add @formbricks/js
    ```

    </CodeGroup>
    <CodeGroup title="Initialise Formbricks">
    ```tsx {{ title: 'app/formbricks.tsx' }}
    "use client";
    import formbricks from "@formbricks/js";
    import { usePathname, useSearchParams } from "next/navigation";
    import { useEffect } from "react";

    export default function FormbricksProvider() {
      const pathname = usePathname();
      const searchParams = useSearchParams();

      useEffect(() => {
        formbricks.init({
          environmentId: "<environment-id>",
          apiHost: "<api-host>",
          debug: true, // remove when in production
        });
      }, []);

      useEffect(() => {
        formbricks?.registerRouteChange();
      }, [pathname, searchParams]);

      return null;
    }
    ```

    ```js {{ title: 'app/layout.tsx' }}
    import FormbricksProvider from "./formbricks";
    import "./globals.css";

    export default function RootLayout({ children }: { children: React.ReactNode }) {
      return (
        <html lang="en">
          <FormbricksProvider />
          <body>{children}</body>
        </html>
      );
    }
    ```

    </CodeGroup>

  </Col>
</Row>

## Formbricks x VueJs

<Row>
  <Col>

    ### Required Customizations to be Made

    <Properties>
      <Property name="environment-id" type="string">
        Formbricks Environment ID.<br/>
        _Get this from the Setup Checklist inside the Settings page of Formbricks dashboard_
      </Property>
    </Properties>
    <Properties>
      <Property name="api-host" type="string">
        URL of the hosted Formbricks instance.<br/>
        _If you're using the cloud app, please use `"https://app.formbricks.com`"_
      </Property>
    </Properties>

    ### Optional Customizations to be Made

    <Properties>
      <Property name="debug" type="boolean">
        Whether you want to see debug messages from Formbricks on your client-side console.
      </Property>
    </Properties>

    For detailed setup, please visit our [NextJs App Directory Setup Guide](/docs/getting-started/nextjs-app).

  </Col>
  <Col sticky>
    <CodeGroup title="Install Formbricks JS library">
    ```shell {{ title: 'npm' }}
    npm install --save @formbricks/js
    ```
    ```shell {{ title: 'pnpm' }}
    pnpm add @formbricks/js
    ```
    ```shell {{ title: 'yarn' }}
    yarn add @formbricks/js
    ```

    </CodeGroup>
    <CodeGroup title="Initialise Formbricks">
    ```js {{ title: 'src/formbricks.js' }}
    import formbricks from "@formbricks/js";

    if (typeof window !== "undefined") {
      formbricks.init({
        environmentId: "<environment-id>",
        apiHost: "<api-host>",
      });
    }

    export default formbricks;
    ```

    ```js {{ title: 'main.js' }}
    // other imports
    import Vue from "vue";
    import VueRouter from "vue-router";
    import formbricks from "@/formbricks";


    Vue.use(VueRouter);

    const router = new VueRouter({
      // Your router configuration here
    });

    // Add a global navigation guard
    router.afterEach((to, from) => {
      if (typeof formbricks !== "undefined") {
        formbricks.registerRouteChange();
      }
    });
    ```

    </CodeGroup>

  </Col>
</Row>

## Validate your setup

Once you have completed the steps above, you can validate your setup by checking the **Setup Checklist** in the Settings. Your widget status indicator should go from this:

<Image
  src={WidgetNotConnected}
  alt="Widget isnt connected"
  quality="100"
  className="rounded-lg max-w-full sm:max-w-3xl"
/>

To this:

<Image
  src={WidgetConnected}
  alt="Widget is connected"
  quality="100"
  className="rounded-lg max-w-full sm:max-w-3xl"
/>
